# Investment Potential Tracking (IPT) for Online Portfolio Selection

## ðŸ“„ Overview
This project implements the IPT method for online portfolio selection under a rolling evaluation setting.
The study focuses on combining trend, reversal potential, and risk information into a unified investment score, then mapping this score to portfolio weights.
The repository provides a reproducible code path for generating rolling 5-year evaluation results and the corresponding summary metrics used in the paper workflow.

## ðŸ§  Description
IPT is organized around four core parts:
- Signal construction:
  `compute_yar_weights.m` and `compute_yar_index_factor.m` compute YAR-based features from asset returns and market index series.
- State decision:
  `active_function.m` builds state-dependent effect terms and generates the control signal used in allocation.
- Portfolio update:
  `IPT.m`, `IPT_run.m`, and `simplex_projection_selfnorm2.m` update portfolio weights and produce cumulative wealth trajectories.
- Rolling evaluation:
  `run_core.m` executes the 4-year train + 1-year test rolling protocol, aggregates metrics, and exports final summaries.

## ðŸ“¦ Repository Content
- `run.m`: top-level entry script.
- `ipt_mainline/`: main implementation and rolling evaluation scripts.
- `Data Set/`: `.mat` datasets used by the experiments.
- `results/`: output directories generated by runs.

## ðŸš€ Usage
Run from MATLAB at repository root:

```matlab
cd('.../Investment-potential-tracking');
out_dir = run();
```

Optional arguments:

```matlab
out_dir = run('datasets', {'nyse-n','nyse-o'}, ...
              'out_dir', fullfile(pwd, 'results', 'custom_run'));
```

Main dependencies:
- MATLAB (tested with standard matrix/IO/stat functions used in scripts)
- Local dataset files under `Data Set/`

## ðŸ“Š Outputs
Each run writes one result folder (`out_dir`) containing:
- `rolling5y_summary.csv`
  - `dataset`
  - `cw_mean`
  - `ann_ret_mean`
  - `sharpe_mean`
  - `sortino_mean`
  - `calmar_mean`
  - `sterling_mean`
  - `mdd_mean`
  - `n_windows`
- `ipt-<dataset>_roll5y.mat`
  - per-dataset rolling block outputs (`cw_list`, metric lists, window starts, and daily return blocks)
